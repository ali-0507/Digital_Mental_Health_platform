.ai-bg{
  min-height:100vh;
  background: radial-gradient(1200px 600px at 30% 30%, #f3e8ff, transparent 70%),
              radial-gradient(800px 500px at 50% 50%, #bee9fe, transparent 80%),
              #d1e0fd;
}

/* header */
.ai-title{ color:#965fd8; font-weight:800; letter-spacing:.2px; }
.ai-subtitle{ color:#6b7280; }

/* disclaimer */
.ai-disclaimer{
  background: #e6f7ff;
  border:1px solid rgb(209, 227, 255);
  border-radius:14px;
  padding:.8rem 1rem;
  color:#6b7280;
  font-size:0.9rem;
}

/* main chat wrapper to host floating toolbar */
.ai-chat-wrap{ position:relative; }

/* big card */
.ai-card.big{
  background:#f0f4fd;
  border:1px solid var(--ai-border);
  border-radius:24px;
  box-shadow:var(--ai-shadow);
}

/* floating toolbar (top-right) */
.ai-toolbar{
  position:absolute; right:9px; top:-18px;
  display:flex; gap:.8rem; z-index:2;
}
.ai-tbtn{
  display:inline-flex; align-items:center; gap:.3rem;
  background:#e3edfc !important; color:#5a3284 !important;
  border:none; border-radius: 10px; 
  padding:.9rem .7rem;
  box-shadow:0 10px 13px rgba(106, 106, 106, 0.18);
  font-size:.9rem;
  height: 35px; 
}
.ai-tbtn span{ display:none; }
@media (min-width: 576px){ .ai-tbtn span{ display:inline; } }
.ai-tbtn:hover{ filter:brightness(1.05); }
.ai-tbtn.rec{ outline: 3px solid rgba(239,68,68,.18); }

/* mood + prompts */
.ai-mood.btn-sm,
.ai-mood{
  border:none;
  background:#e8e8e8;
  border-radius:10px; padding:.2rem .5rem;
}
.ai-mood.active{
  border:none;
  box-shadow:0 0 0 .18rem rgba(61, 72, 71, 0.18);
}
.ai-prompts{ display:flex; flex-wrap:wrap; gap:.5rem; }
.ai-chip{
  background:#3c2d73 !important; color:#f3e8ff !important;
  border:none; border-radius:999px; padding:.45rem .9rem; font-size:.9rem;
  box-shadow:0 10px 18px rgba(0,0,0,.12);
}
.ai-chip:hover{ filter:brightness(1.03); }

/* safety banner */
.ai-safety{
  background:#fff; border:1px solid #E6EAF0; border-left:4px solid #ef4444;
  padding:.65rem .85rem; border-radius:12px; color:#7a2630;
}

/* messages list */
.ai-messages{
  position:relative; height:380px; overflow:auto;
  border:1px solid #E6EAF0;
  border-radius:16px; padding:1rem; background:#fff;
}
.msg{
  max-width:76%;
  padding:.62rem .95rem; margin:.35rem 0;
  border-radius:14px; box-shadow:0 2px 8px rgba(0,0,0,.05);
  word-wrap:break-word;
}
.msg-bot{ background:#f8fafc; border:1px solid #E6EAF0; border-radius:14px 14px 14px 6px; color:#1f2a37; }
.msg-user{ background:#d8f1ff; color:#173753; border-radius:14px 14px 6px 14px; margin-left:auto; }

/* typing */
.typing{ display:inline-flex; gap:.25rem; align-items:center; }
.typing .dot{ width:6px;height:6px;border-radius:50%; background:#cbd5e1; animation:bounce 1.2s infinite; }
.typing .dot:nth-child(2){ animation-delay:.12s; } .typing .dot:nth-child(3){ animation-delay:.24s; }
@keyframes bounce{ 0%,80%,100%{ transform:translateY(0);} 40%{ transform:translateY(-4px);} }

/* scroll to bottom */
.ai-scroll{
  position:absolute; right:12px; bottom:12px;
  background:#e1cff9 !important; border:1px solid #E6EAF0; border-radius:999px;
  padding:.35rem .55rem; box-shadow:0 8px 18px rgba(0,0,0,.08);
}

/* input row */
.ai-input{ display:flex; gap:.6rem; }
.ai-input .form-control{
  border-radius:12px; border:1px solid #E6EAF0;
}
.ai-input .form-control:focus{
  border-color:#64748b;
  box-shadow:0 0 0 .25rem rgba(9,189,183,.15);
}
.ai-send{
  background:#3c2d73 !important; border:none; color: #f3e8ff !important; font-weight:600; border-radius:12px;
}
.ai-send:hover{ background:#4d3c8c !important; }
 
/* anonymous note */
.ai-anon{ color:#6b7280; font-size:1rem; }
.ai-anon a{ color:#f3e8ff; 
  font-size:medium;
  background:#3c2d73; 
  text-decoration:none;
  border:1px solid #3c2d73;
  padding:0.4rem; 
  border-radius:0.9rem;
}
.ai-anon a:hover{ text-decoration:underline; }

/* modal */
.ai-modal-backdrop{
  position:fixed; inset:0; background:rgba(2,6,23,.55);
  display:grid; place-items:center; z-index:999;
}
.ai-modal{
  width:min(420px, 92vw);
  background:#fff; border:1px solid #E6EAF0;
  border-radius:16px; padding:1.1rem 1.1rem 1rem;
  box-shadow:0 24px 60px rgba(0,0,0,.25); position:relative;
}
.ai-modal-close{
  position:absolute; 
  right:10px; 
  top:10px; 
  border:none; 
  padding:0.5rem;
  background:rgb(175, 20, 20) !important; 
  color:#f8fafd !important;
}
.btn-plain{
  background:#fff; border:1px solid #E6EAF0; border-radius:10px; color:var(--ai-head); font-weight:600;
}
.btn-plain:hover{ background:#f7fafc; }
.btn-accent{
  background:#bee9fe; border:none; color:#003133; border-radius:10px; font-weight:700;
}
.btn-accent:hover{ background:#d4e7ff !important; }

/* helpline */
.ai-helpline{ color:#6b7280; }
.ai-helpline a{ color:#4d3c8c; text-decoration:none; }
.ai-helpline a:hover{ text-decoration:underline; }
