 

/* Palette consistent with Screening */
:root{
  --ai-bg-start:#E1F1FC; --ai-bg-end:#CFCAC6;
  --ai-head:#173753; --ai-text:#1f2a37; --ai-muted:#6b7280;
  --ai-accent:#09BDB7; --ai-accent-600:#079a95;
  --ai-border:#E6EAF0; --ai-surface:#ffffff;
  --ai-shadow:0 20px 48px rgba(23,55,83,.12);
}

/* page background */
.ai-bg{
  min-height:100vh;
  background:
    radial-gradient(900px 420px at 85% 12%, rgba(100,155,189,.15), transparent 60%),
    linear-gradient(180deg,var(--ai-bg-start),var(--ai-bg-end));
}

/* header */
.ai-title{ color:var(--ai-head); font-weight:800; letter-spacing:.2px; }
.ai-subtitle{ color:var(--ai-muted); }

/* disclaimer */
.ai-disclaimer{
  background: rgba(255,255,255,.85);
  border:1px solid var(--ai-border);
  border-radius:14px;
  padding:.8rem 1rem;
  color:var(--ai-muted);
}

/* main chat wrapper to host floating toolbar */
.ai-chat-wrap{ position:relative; }

/* big card */
.ai-card.big{
  background:var(--ai-surface);
  border:1px solid var(--ai-border);
  border-radius:24px;
  box-shadow:var(--ai-shadow);
}

/* floating toolbar (top-right) */
.ai-toolbar{
  position:absolute; right:14px; top:-18px;
  display:flex; gap:.5rem; z-index:2;
}
.ai-tbtn{
  display:inline-flex; align-items:center; gap:.10rem;
  background:#123047; color:#e6eef6;
  border:none; border-radius: 10px; 
  padding:.9rem .3rem;
  box-shadow:0 10px 18px rgba(0,0,0,.12);
  font-size:.8rem;
  height: 35px; 
}
.ai-tbtn span{ display:none; }
@media (min-width: 576px){ .ai-tbtn span{ display:inline; } }
.ai-tbtn:hover{ filter:brightness(1.05); }
.ai-tbtn.rec{ outline: 3px solid rgba(239,68,68,.18); }

/* mood + prompts */
.ai-mood.btn-sm,
.ai-mood{
  border:1px solid var(--ai-border); background:#fff; color:var(--ai-head);
  border-radius:10px; padding:.25rem .5rem;
}
.ai-mood.active{
  border-color:var(--ai-accent);
  box-shadow:0 0 0 .18rem rgba(9,189,183,.18);
}
.ai-prompts{ display:flex; flex-wrap:wrap; gap:.5rem; }
.ai-chip{
  background:#123047; color:#e6eef6;
  border:none; border-radius:999px; padding:.45rem .9rem; font-size:.9rem;
  box-shadow:0 10px 18px rgba(0,0,0,.12);
}
.ai-chip:hover{ filter:brightness(1.03); }

/* safety banner */
.ai-safety{
  background:#fff; border:1px solid var(--ai-border); border-left:4px solid #ef4444;
  padding:.65rem .85rem; border-radius:12px; color:#7a2630;
}

/* messages list */
.ai-messages{
  position:relative; height:380px; overflow:auto;
  border:1px solid var(--ai-border);
  border-radius:16px; padding:1rem; background:#fff;
}
.msg{
  max-width:76%;
  padding:.62rem .95rem; margin:.35rem 0;
  border-radius:14px; box-shadow:0 2px 8px rgba(0,0,0,.05);
  word-wrap:break-word;
}
.msg-bot{ background:#f8fafc; border:1px solid var(--ai-border); border-radius:14px 14px 14px 6px; color:var(--ai-text); }
.msg-user{ background:var(--ai-accent); color:#003133; border-radius:14px 14px 6px 14px; margin-left:auto; }

/* typing */
.typing{ display:inline-flex; gap:.25rem; align-items:center; }
.typing .dot{ width:6px;height:6px;border-radius:50%; background:#cbd5e1; animation:bounce 1.2s infinite; }
.typing .dot:nth-child(2){ animation-delay:.12s; } .typing .dot:nth-child(3){ animation-delay:.24s; }
@keyframes bounce{ 0%,80%,100%{ transform:translateY(0);} 40%{ transform:translateY(-4px);} }

/* scroll to bottom */
.ai-scroll{
  position:absolute; right:12px; bottom:12px;
  background:#fff; border:1px solid var(--ai-border); border-radius:999px;
  padding:.35rem .55rem; box-shadow:0 8px 18px rgba(0,0,0,.08);
}

/* input row */
.ai-input{ display:flex; gap:.6rem; }
.ai-input .form-control{
  border-radius:12px; border:1px solid var(--ai-border);
}
.ai-input .form-control:focus{
  border-color:var(--ai-accent);
  box-shadow:0 0 0 .25rem rgba(9,189,183,.15);
}
.ai-send{
  background:var(--ai-accent); border:none; color:#003133; font-weight:700; border-radius:12px;
}
.ai-send:hover{ background:var(--ai-accent-600); }
 
/* anonymous note */
.ai-anon{ color:var(--ai-muted); font-size:.9rem; }
.ai-anon a{ color:var(--ai-accent); text-decoration:none; }
.ai-anon a:hover{ text-decoration:underline; }

/* modal */
.ai-modal-backdrop{
  position:fixed; inset:0; background:rgba(2,6,23,.55);
  display:grid; place-items:center; z-index:999;
}
.ai-modal{
  width:min(420px, 92vw);
  background:#fff; border:1px solid var(--ai-border);
  border-radius:16px; padding:1.1rem 1.1rem 1rem;
  box-shadow:0 24px 60px rgba(0,0,0,.25); position:relative;
}
.ai-modal-close{
  position:absolute; right:10px; top:10px; border:none; background:transparent; color:#64748b;
}
.btn-plain{
  background:#fff; border:1px solid var(--ai-border); border-radius:10px; color:var(--ai-head); font-weight:600;
}
.btn-plain:hover{ background:#f7fafc; }
.btn-accent{
  background:var(--ai-accent); border:none; color:#003133; border-radius:10px; font-weight:700;
}
.btn-accent:hover{ background:var(--ai-accent-600); }

/* helpline */
.ai-helpline{ color:var(--ai-muted); }
.ai-helpline a{ color:var(--ai-accent); text-decoration:none; }
.ai-helpline a:hover{ text-decoration:underline; }
